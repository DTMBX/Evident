# Governance Documentation

This directory contains legal, compliance, and security documentation for the Evident Technologies platform.

## Contents

### üìã Core Documentation

- **[EVIDENCE-PROCESSING-OSS-RECOMMENDATIONS.md](./EVIDENCE-PROCESSING-OSS-RECOMMENDATIONS.md)** - Comprehensive analysis and recommendations for open-source components to enhance evidence processing capabilities
  - Executive summary
  - Gap analysis table
  - 12 candidate library cards with license, security, and integration details
  - License & supply-chain compliance gate
  - 3-phase implementation roadmap
  - Security summary

- **[DEPENDENCIES.md](./DEPENDENCIES.md)** - Provenance and license tracking for all third-party dependencies
  - Current dependencies (30+ Python packages + system binaries)
  - Proposed additions (pending approval)
  - Rejected dependencies (with rationale)
  - License summary matrix
  - Security scanning results
  - Update process and compliance notes

### üîí Generated Artifacts

- **sbom-backend.json** - Software Bill of Materials (SBOM) in CycloneDX format
  - Auto-generated by CI/CD pipeline
  - Tracks all Python dependencies with versions and hashes
  - Updated on every dependency change

- **vulnerabilities-backend.json** - Vulnerability scan results
  - Auto-generated weekly by GitHub Actions
  - Lists known CVEs in dependencies
  - CI fails on HIGH/CRITICAL vulnerabilities

- **licenses.json** - License report for all installed packages
  - Auto-generated by CI/CD
  - Flags GPL-licensed dependencies for review

## Purpose

This governance framework ensures:

1. **Transparency**: All dependencies tracked with source, license, and security posture
2. **Compliance**: License compatibility verified before adoption
3. **Security**: Automated vulnerability scanning (weekly + on every change)
4. **Auditability**: SBOM and provenance documentation for legal review
5. **Accountability**: Clear approval process for new dependencies

## Principles

All recommendations and tracking follow these principles (from `copilot-instructions.md`):

- Truth before persuasion
- Structure before style
- Integrity before convenience
- Due process before outcomes
- Restraint before expression

## Adding a New Dependency

**Before adding any dependency:**

1. Check if it's already listed in `DEPENDENCIES.md` under "PROPOSED ADDITIONS"
2. If not, add entry to "PROPOSED ADDITIONS" section with:
   - Name, version, license
   - Source repository URL
   - Purpose and use case
   - Security assessment (CVE scan)
   - Maintenance status (last release date, contributor count)

3. Review license compatibility:
   - ‚úÖ **Approved**: MIT, BSD-2/3, Apache-2.0, LGPL (as subprocess), Perl Artistic
   - ‚ö†Ô∏è **Review Required**: GPL, AGPL (copyleft obligations)
   - ‚ùå **Rejected**: Proprietary, unclear license, abandoned projects

4. Run security scan:
   ```bash
   pip-audit <package>==<version>
   ```

5. Get approval from:
   - Engineering lead (technical fit)
   - Legal counsel (license review)
   - Security team (vulnerability assessment)

6. After approval:
   - Add to `backend/requirements.txt` with exact version
   - Move from "PROPOSED" to "CURRENT" in `DEPENDENCIES.md`
   - Commit and push (CI will regenerate SBOM and scan)

## Automated Security Checks

GitHub Actions workflow (`.github/workflows/security-scan.yml`) runs:

- **On every push/PR**: Vulnerability scan (fail on HIGH/CRITICAL)
- **Weekly**: Scheduled scan + SBOM update
- **On demand**: Manual trigger via GitHub Actions UI

Scan results appear in:
- Pull request comments (if vulnerabilities found)
- GitHub Actions artifacts (90-day retention)
- This directory (sbom-backend.json, vulnerabilities-backend.json)

## Reviewing Recommendations

The primary recommendation document (`EVIDENCE-PROCESSING-OSS-RECOMMENDATIONS.md`) is structured for legal and technical review:

1. **Executive Summary** - 12-bullet overview for decision-makers
2. **Gap Analysis Table** - Current vs desired state with risk levels
3. **Library Cards** - 12 components with detailed security/license analysis
4. **License & Supply-Chain Gate** - Compliance requirements
5. **Implementation Roadmap** - 3-phase deployment plan with acceptance criteria

**Intended audience:**
- Legal counsel (license review)
- Security auditors (CVE/SBOM verification)
- Engineering managers (implementation planning)
- Courts/counsel (provenance verification if subpoenaed)

## License Compliance

All dependencies must be compatible with Evident's proprietary codebase. Approved licenses:

| License | Use Case | Obligation |
|---------|----------|-----------|
| MIT, BSD, Apache-2.0 | Permissive | Attribution only |
| LGPL-2.1+ | Dynamic linking (subprocess) | No source disclosure |
| Dual-licensed (Artistic/GPL) | Choose non-copyleft option | Attribution only |

**Rejected**: GPL/AGPL (copyleft propagation), Proprietary (no source code)

## Security Posture

### Current Status
- ‚úÖ 30+ dependencies tracked
- ‚úÖ All licenses documented
- ‚úÖ CVE-2026-21860 (Werkzeug) patched
- ‚úÖ Deprecated PyPDF2 replaced with pypdf
- ‚úÖ Weekly automated scans enabled

### Gaps Addressed
- üî¥ **High**: SBOM generation (added CycloneDX)
- üî¥ **High**: Vulnerability scanning (added pip-audit)
- ‚ö†Ô∏è **Medium**: FFmpeg proxy generation (proposed)
- ‚ö†Ô∏è **Medium**: Metadata extraction (proposed MediaInfo/ExifTool)

## Maintenance

**This directory must be updated**:
- On every dependency add/update/remove
- Weekly (automated SBOM/vulnerability scan)
- Quarterly (full security audit)
- Annually (license compliance review)

**Maintainer**: Engineering Team  
**Last Updated**: 2026-02-07  
**Next Review**: 2026-05-07 (quarterly)

---

## Quick Links

- [Main README](../README.md)
- [Security Policy](../SECURITY.md)
- [Contributing Guidelines](../README.md)
- [License](../LICENSE)

---

**Questions?**

For questions about:
- **License compliance**: Contact legal counsel
- **Security vulnerabilities**: Open GitHub Security Advisory
- **Dependency approval**: Tag @engineering-leads in PR
- **Audit requests**: Email governance@evident.tech (if applicable)

---

*This governance framework ensures court-defensible provenance tracking and supply-chain transparency for the Evident Technologies legal-technology platform.*
