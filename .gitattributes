* text=auto eol=lf

*.ps1 text eol=crlf
*.bat text eol=crlf
# ============================================================
# Evident Git Attributes (hardened)
# ============================================================

# -----------------------
# 1) Line ending policy
# -----------------------
# Default: LF everywhere to prevent churn
* text=auto eol=lf

# Windows-native scripts
*.bat text eol=crlf
*.cmd text eol=crlf
*.ps1 text eol=crlf

# Shell
*.sh   text eol=lf
*.bash text eol=lf

# Python
*.py   text eol=lf

# -----------------------
# 2) Binary files (never normalize)
# -----------------------
*.png   binary
*.jpg   binary
*.jpeg  binary
*.gif   binary
*.ico   binary
*.pdf   binary
*.woff  binary
*.woff2 binary
*.ttf   binary
*.eot   binary
*.db    binary
*.sqlite  binary
*.sqlite3 binary

# Media / evidence binaries (add these if you ingest video/audio)
*.mp4 binary
*.mov binary
*.mkv binary
*.avi binary
*.wav binary
*.mp3 binary
*.m4a binary

# -----------------------
# 3) git-crypt protected content
# -----------------------
# IMPORTANT:
# - Mark encrypted files as -text to prevent EOL normalization on ciphertext.
# - Keep encryption scoped to secrets, keys, credentials, sensitive evidence.
# - Avoid encrypting full source trees in a public repo.

# Encrypted blobs
*.enc filter=git-crypt diff=git-crypt -text
secrets.enc filter=git-crypt diff=git-crypt -text
secrets.encrypted filter=git-crypt diff=git-crypt -text
*.secrets filter=git-crypt diff=git-crypt -text

# Environment files (only if you intentionally track them; usually you should NOT)
.env            filter=git-crypt diff=git-crypt -text
.env.*          filter=git-crypt diff=git-crypt -text

# Private keys and certificates
*.key filter=git-crypt diff=git-crypt -text
*.pem filter=git-crypt diff=git-crypt -text
*.p12 filter=git-crypt diff=git-crypt -text
*.pfx filter=git-crypt diff=git-crypt -text

# Credentials/config
database.ini     filter=git-crypt diff=git-crypt -text
credentials.json filter=git-crypt diff=git-crypt -text

# Secure directories
secure/**        filter=git-crypt diff=git-crypt -text
barber-cam/**    filter=git-crypt diff=git-crypt -text
scripts/security/** filter=git-crypt diff=git-crypt -text

# NOTE:
# Do NOT encrypt backend/** or shared/** here unless you accept:
# - CI must have keys
# - public users can't run/build
# - diffs are opaque
# If you truly want that, do it in a private repo instead.
