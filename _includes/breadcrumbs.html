{%- if page.url == "/" or page.breadcrumb == false -%} {%- comment -%}No
breadcrumbs on home or when explicitly disabled{%- endcomment -%} {%- else -%}
{%- assign path = page.url | replace: 'index.html', '' -%} {%- assign segments =
path | split: '/' -%}
<nav class="breadcrumbs" aria-label="Breadcrumb">
  <ol
    class="breadcrumbs__list"
    itemscope
    itemtype="https://schema.org/BreadcrumbList"
  >
    {%- assign position = 1 -%}
    <li
      itemprop="itemListElement"
      itemscope
      itemtype="https://schema.org/ListItem"
      class="breadcrumbs__item"
    >
      <a
        itemprop="item"
        href="{{ '/' | relative_url }}"
        class="breadcrumbs__link"
      >
        <span>Home</span>
      </a>
      <meta itemprop="position" content="{{ position }}" />
    </li>
    {%- assign position = position | plus: 1 -%} {%- assign current_path = ""
    -%} {%- for segment in segments -%} {%- if segment == "" -%} {%- continue
    -%} {%- endif -%} {%- assign current_path = current_path | append: "/" |
    append: segment -%} {%- assign is_last = forloop.last -%} {%- if is_last -%}
    {%- assign label = page.breadcrumb_title | default: page.title | default:
    segment | replace: '-', ' ' | capitalize -%} {%- else -%} {%- assign label =
    segment | replace: '-', ' ' | capitalize -%} {%- endif -%}
    <li
      itemprop="itemListElement"
      itemscope
      itemtype="https://schema.org/ListItem"
      class="breadcrumbs__item"
    >
      {%- if is_last -%}
      <span itemprop="name" class="breadcrumbs__current" aria-current="page"
        >{{ label }}</span
      >
      {%- else -%}
      <a
        itemprop="item"
        href="{{ current_path | append:'/' | relative_url }}"
        class="breadcrumbs__link"
      >
        <span itemprop="name">{{ label }}</span>
      </a>
      {%- endif -%}
      <meta itemprop="position" content="{{ position }}" />
      {%- if is_last == false -%}
      <span class="breadcrumbs__separator" aria-hidden="true">â€º</span>
      {%- endif -%}
    </li>
    {%- assign position = position | plus: 1 -%} {%- endfor -%}
  </ol>
</nav>
{%- endif -%}
